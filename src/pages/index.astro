---
import BaseLayout from "../layouts/BaseLayout.astro";
import { siteConfig } from "../config/site";
import Hero from "../components/widgets/Hero.astro";
import Features from "../components/widgets/Features.astro";
import Content2 from "../components/widgets/Content2.astro";
import Values from "../components/widgets/Values.astro";
import devImg from "../assets/images/dev_balanced.png";
import aboutImage from "../assets/images/about-office.webp";
import { getCollection } from "astro:content";
import { getImage } from "astro:assets";

const metadata = {
	title: `${siteConfig.name} â€” Principal Data Architect`,
	description: siteConfig.description,
	ignoreTitleTemplate: true,
};

const recentCaseStudies = (await getCollection("caseStudies"))
	.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
	.slice(0, 3);

const recentBlogs = (await getCollection("blog"))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);

const values = [
    {
        title: "Cloud-Native Solutions",
        description: "Architecting scalable, resilient cloud infrastructure across AWS, Azure, and GCP.",
    },
    {
        title: "Data Platform Engineering",
        description: "Building modern data platforms with Databricks and Microsoft Fabric for analytics at scale.",
    },
    {
        title: "Governance & Compliance",
        description: "Implementing robust governance frameworks ensuring security and regulatory compliance.",
    },
    {
        title: "Best Practices",
        description: "Following industry standards and cloud-native patterns for optimal performance.",
    },
    {
        title: "Automation First",
        description: "Leveraging IaC and DevOps practices to automate infrastructure and deployments.",
    },
    {
        title: "Continuous Learning",
        description: "Staying current with emerging cloud technologies and architectural patterns.",
    },
];

const optimizedImage = await getImage({
    src: aboutImage,
    format: "webp",
});
---

<BaseLayout {metadata}>
	<link slot="head" rel="preload" href={optimizedImage.src} as="image" />
	
	<!-- Hero Section -->
	<section id="home">
		<Hero
			title={`Hi, I'm <span class="bg-linear-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">Vasu Bajaj</span><br class="hidden md:block" />`}
			tagline="Principal Data Architect | Multi-Cloud Data Platforms"
			description="Architecting scalable, governed, multi-cloud data platforms across GCP, AWS, and Azure Databricks. 12+ years designing TB-scale ingestion pipelines, optimizing data lake architectures, and enabling analytics at enterprise scale. Proven track record: 3TB/day data processing, 40% cost reductions via partitioning strategies, 10x performance improvements through architectural optimization."
			actions={[
				{
					text: "View Architecture Case Studies",
					href: "#case-studies",
					variant: "primary",
					icon: "lucide:briefcase",
				},
				<!-- {
					text: "Download Resume",
					href: "/resume.pdf",
					variant: "secondary",
					icon: "lucide:download",
				}, -->
			]}
		/>
	</section>

	<!-- Expertise Section -->
	<section id="expertise">
		<Features
			tagline="Enterprise Architecture Capabilities"
			title="Platform Architecture Expertise"
			subtitle="Designing scalable, governed, multi-cloud data platforms with measurable business impact."
			features={[
				{
					title: "Multi-Cloud Data Architecture",
					description: "Architecting TB-scale data platforms across GCP BigQuery, AWS Redshift, Azure Databricks with unified governance and cost optimization strategies.",
					icon: "lucide:cloud",
					iconClass: "bg-blue-500/10 text-blue-400",
				},
				{
					title: "Data Lakehouse Architecture",
					description: "Designing Medallion architecture on Databricks Delta Lake and Snowflake with 3TB/day ingestion, ACID transactions, and schema evolution.",
					icon: "lucide:database",
					iconClass: "bg-purple-500/10 text-purple-400",
				},
				{
					title: "Enterprise Data Governance",
					description: "Implementing governed data platforms with Unity Catalog, Purview, and IAM. Column-level security, PII masking, data lineage, and compliance frameworks.",
					icon: "lucide:shield",
					iconClass: "bg-pink-500/10 text-pink-400",
				},
			]}
		/>
	</section>

	<!-- About Section -->
	<section id="about">
		<Content2
			title="About Me"
			description={[
				"I'm a Principal Data Architect with 12+ years architecting scalable, governed, multi-cloud data platforms across GCP, AWS, Azure, Databricks, Snowflake, and Microsoft Fabric. I specialize in designing TB-scale data lake architectures, implementing enterprise governance frameworks, and optimizing platform costs while maintaining performance at scale.",
				"My architectural approach delivers measurable business impact: 3TB/day data processing platforms, 40% cost reductions through strategic partitioning and clustering, 10x performance improvements via architectural optimization, and enterprise-grade governance with Unity Catalog and Purview. I lead cross-functional teams to design robust, compliant, and high-performing data solutions that scale.",
			]}
			image={aboutImage}
			imageAlt="Technical Architect workspace"
			actions={[
				{
					text: "Architecture Philosophy",
					href: "/about",
					variant: "primary",
					icon: "lucide:user",
				},
				{
					text: "View Architecture Case Studies",
					href: "#case-studies",
					variant: "secondary",
					icon: "lucide:briefcase",
				},
			]}
		/>
	</section>
	
	<!-- Case Studies Section -->
	<section id="case-studies">
		{recentCaseStudies.length > 0 && (
		<Content2
			items={recentCaseStudies.map(study => ({
				title: study.data.title,
				description: study.data.description,
				icon: "lucide:briefcase",
				iconClass: "bg-blue-500/10 text-blue-400",
			}))}
			image={devImg}
			imageAlt="Recent Projects"
		>
			<Fragment>
				<h3 class="text-2xl font-bold tracking-tight sm:text-3xl mb-2">
					Enterprise Data Platform Architecture
				</h3>
				Deep-dive technical case studies showcasing multi-cloud architecture, governance frameworks, and measurable business impact.
				<a href="/case-studies" class="inline-flex items-center text-blue-600 hover:text-blue-700 mt-4">
					View all architecture case studies
					<svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
					</svg>
				</a>
			</Fragment>
		</Content2>
		)}
	</section>

	<!-- Blog Section -->
	<section id="blog">
		{recentBlogs.length > 0 && (
		<Content2
			items={recentBlogs.map(post => ({
				title: post.data.title,
				description: post.data.description,
				icon: "lucide:book-open",
				iconClass: "bg-purple-500/10 text-purple-400",
			}))}
			image={devImg}
			imageAlt="Recent Blog Posts"
			isReversed={true}
		>
			<Fragment>
				<h3 class="text-2xl font-bold tracking-tight sm:text-3xl mb-2">
					Architecture Insights & Thought Leadership
				</h3>
				Deep technical articles on data architecture patterns, multi-cloud strategies, and platform design decisions.
				<a href="/blog" class="inline-flex items-center text-purple-600 hover:text-purple-700 mt-4">
					Read all posts
					<svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
					</svg>
				</a>
			</Fragment>
		</Content2>
		)}
	</section>
</BaseLayout>
